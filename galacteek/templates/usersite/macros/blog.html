{% from "usersite/macros/urls.html" import site_ipns_url %}

{# Adapted from lektor's macro #}
{% macro render_blog_post(post, from_index=false) %}
  <div class="blog-post">
  {% if from_index %}
    <h2 class="blog-title">
     <a href="{{ post.postname }}/view">{{ post.title }}</a>
    </h2>

    <p class="blog-meta">
      written by <b>{{ post.author }}</b>
      at {{ post.date_published|dtclean }}
    </p>
  {% else %}
    <h2 class="blog-title">{{ post.title }}</h2>

    <p class="blog-meta">
    written by <b>{{ post.author }}</b> at {{ post.date_published|dtclean }}
    </p>
  {% endif %}

    <div class="blog-post-body">
        {{ post.body|markdown }}
    </div>
  </div>
{% endmacro %}
